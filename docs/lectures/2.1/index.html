
<!doctype html>
<html lang="en-US">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="author" content="Deren Eaton">
    <meta name="description" content="Programming Course">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Lecture-2.1</title>

    <!-- CSS styling -->
    <link rel="stylesheet" href="../reveal/css/reveal.css">
    <link rel="stylesheet" href="../hack-the-planet.css">
    <link rel="stylesheet" href="../reveal/lib/css/zenburn.css">    
    <link rel="stylesheet" href="./custom.css">

    <!-- support printing in chrome -->
    <script>
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match( /print-pdf/gi ) ? '../reveal/css/print/pdf.css' : '../reveal/css/print/paper.css';
            document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>    
</head>


<!-- Not sure yet of this transition effect -->
<body style="transition: transform 0.8s ease 0s;"> 

    <!-- set reveal defaults ... -->
    <div class="reveal linear" data-transition-speed="default" data-background-transition="default">

        <!-- By giving slides a dimension we can use pixels or % -->
        <div class="slides" style="width:1600px; height:900px;">

            <section data-background-color="#262626" class="present" data-transition="none">
                <div style="margin-left: auto; margin-top: 15%">
                    <h2 class="title" style="color:#5ab4ac;line-height: 1.25">
                    Programming and Data Science for Biology<br>(EEEB G4050)</h2>

                    <h4 style="color:grey; font-weight: 400; line-height: 1.5"> 
                    <i>Dept. of Ecology, Evolution, and Environmental Biology<br>
                    Columbia University</i></h4>
                </div>
            </section>


            <section data-background-color="#262626" data-transition="none" class="future">
                <div class="standard">
                    <h3 class="title" style="color:#5ab4ac; margin-top:10%; line-height:1.2">
                    Lecture 2.1 Outline:</h3>
                    <div class="textbox"><p style='text-align:center; color:white'>
                    <ul style="color:white; line-height: 1.5; font-size: 1.25em">
                        <li>review bash</li>
                        <li>advanced bash</li>
                        <li>Github</li>                        
                    </ul>
                    </div>
            </section>




            <section data-background-color="#262626" data-transition="none" class="future">
                <div class="standard">
                    <h3 class="title" style="color:#5ab4ac; margin-top:5%; line-height:1.2">
                    The hierarchical unix filesystem</h3>
                    <div class="textbox"><p style='text-align:center; color:white'>
                        Where are my files? Where am I?
                    </p></div>
                <pre style="width:60%"><code class="bash" style="max-height: 650px; font-size: 18px; line-height:1.35;"> 
# show my current location
pwd

# show the files in my current location
ls
                </code></pre>                

                <pre style="width:60%"><code class="bash" style="max-height: 650px; font-size: 18px; line-height:1.35;"> 
# pwd 'prints the working directory' (your location)
/home/deren/

# ls 'lists' the contents in the specifed directory
data/    docs/    file.txt
                </code></pre>                

                </div>
            </section>



            <section data-background-color="#262626" data-transition="none" class="future">
                <div class="standard">
                    <h3 class="title" style="color:#5ab4ac; margin-top:5%; line-height:1.2">
                    program -options target</h3>

                <pre style="width:60%"><code class="bash" style="max-height: 650px; font-size: 18px; line-height:1.35;"> 
# program target
echo "hello world"

# program -option target
ls -l /home/deren/work
                </code></pre>                

                <pre style="width:60%"><code class="bash" style="max-height: 650px; font-size: 18px; line-height:1.35;"> 
# echo prints the target string to the terminal output (stdout)
/home/deren/

# ls -l 'lists' contents in the specifed directory
drwxr-xr-x  7 deren deren  4096 Dec 28 03:37 data/    
drwxr-xr-x  7 deren deren  4096 Dec 28 03:37 docs/    
drwxr-xr-x  7 deren deren  4096 Dec 28 03:37 file.txt
                </code></pre>                

                </div>
            </section>




            <section data-background-color="#262626" data-transition="none" class="future">
                <div class="standard">
                    <h3 class="title" style="color:#5ab4ac; margin-top:5%; line-height:1.2">
                    the shell prompt</h3>
                    <div class="textbox"><p style='text-align:center; color:white'>
                        The default shell prompt varies among systems, and types
                        of shells. For example, the latest Macs come with a shell called
                        zsh instead of bash. One of your assignment tutorials this
                        week will instruct you on how to customize your terminal.
                        <br><br>
                        I prefer a compromise between minimalist and informative (e.g., this is a little much...)
                    </p></div>
                    <img src="shell.png" style="width:35%">
                </div>
            </section>




            <section data-background-color="#262626" data-transition="none" class="future">
                <div class="standard">
                    <h3 class="title" style="color:#5ab4ac; margin-top:5%; line-height:1.2">
                    shell script variables</h3>
                    <div class="textbox"><p style='text-align:center; color:white'>
                        The shell terminal can run executable programs (written in any language) as well as interpret a shell scripting language. This
                        language (sh) exists in several <i>dialects</i>, the most common
                        on which is <i>bash</i>. Entire programs can be written in bash,
                        although it is most widely used for file and text manipulation.
                        <br><br>
                        As with most languages, one of the most basic features of shell
                        scripting is the creation of <i>variables</i>. Use the  
                        = operator to assign an object to be referenced by a name.
                    </p></div>
                <pre style="width:60%"><code class="bash" style="max-height: 650px; font-size: 18px; line-height:1.35;"> 
# create a variable name X and set to it the value 3
X=3

# print the variable using 'echo' (to get a variable returned use $)
echo $X
                </code></pre>     

                </div>
            </section>




            <section data-background-color="#262626" data-transition="none" class="future">
                <div class="standard">
                    <h3 class="title" style="color:#5ab4ac; margin-top:5%; line-height:1.2">
                    default shell variables</h3>
                    <div class="textbox"><p style='text-align:center; color:white'>
                        It turns out that when you open a terminal it will often 
                        already have many variables already created. This is how the
                        shell stores information. One of the most important of these 
                        is the PATH variable. This shows the order in which the shell
                        looks for variables (such as program names).
                    </p></div>
                <pre style="width:60%"><code class="bash" style="max-height: 650px; font-size: 18px; line-height:1.35;"> 
# show the PATH variable
echo $PATH
                </code></pre>     
                <pre style="width:60%"><code class="bash" style="max-height: 650px; font-size: 18px; line-height:1.35;"> 
/home/deren/gems/bin:/home/deren/miniconda3/bin:/home/deren/miniconda3/condabin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin
                </code></pre>     

                </div>
            </section>            






            <section data-background-color="#262626" data-transition="none" class="future">


                <section data-background-color="#262626" data-transition="none" class="future">    <div class="standard">
                        <h3 class="title" style="color:#5ab4ac; margin-top:5%; line-height:1.2">
                        Tab-completion: your new best friend</h3>
                        <div class="textbox"><p style='text-align:center; font-size:0.75em;color:white'>
                            If there is one thing I really want you to learn from this class,
                            it is tab-completion. It superpowers your efficiency. When working
                            in a terminal you should press tab every few key strokes. It will complete what you have started to type if there is a single possibility, or show a list of options if there are muliple possible endings. This is demonstrated below, where I start typing ls to list files in a dir, and then use tab completion while typing the filepath until I end up in the dir I am looking for.
                        </p></div>
                        <img src="../../assets/images/ls-tab-complete.gif" style="width:45%">
                    </div>
                </section>


                <section data-background-color="#262626" data-transition="none" class="future">
                    <div class="standard">
                    <h3 class="title" style="color:#5ab4ac; margin-top:5%; line-height:1.2">
                        Tab-completion: your new best friend</h3>
                    <div class="textbox"><p style='text-align:center; color:white'>
                        As an example, to see a list of all variables that exist by default
                        in your terminal upon startup, enter `echo $` and press tab 
                        multiple times. This will show all of the possible completions
                        of the variable indicator that you've started to type.
                    </p></div>
                    <pre style="width:60%"><code class="bash" style="max-height: 650px; font-size: 18px; line-height:1.35;"> 
# press tab key where indicated (if it says that there are many
# variables and to display (y or n) press y)
echo $[tab][tab]
                    </code></pre>     
                    <pre style="width:60%"><code class="bash" style="max-height: 650px; font-size: 18px; line-height:1.35;"> 
$_                         $HISTSIZE
$_backup_glob              $HOME
$BASH                      $HOSTNAME
$BASH_ALIASES              $HOSTTYPE
$BASH_ARGC                 $IFS
$BASH_ARGV                 $IM_CONFIG_PHASE
$BASH_ARGV0                $INVOCATION_ID
$BASH_CMDS                 $JOURNAL_STREAM
$BASH_COMMAND              $LANG
$BASH_COMPLETION_VERSINFO  $LESSCLOSE
$BASH_LINENO               $LESSOPEN
...
                    </code></pre>                
                    </div>
                </section>


            </section>


            <section data-background-color="#262626" data-transition="none" class="future">
                <div class="standard">
                    <h3 class="title" style="color:#5ab4ac; margin-top:10%; line-height:1.2">
                    Common aliases</h3>
                    <div class="textbox"><p style='text-align:center; color:white'>
                        Programmers love shortcuts, especially for tedious and error-prone
                        things like typing filepaths. Several important examples are shown 
                        below. 
                    </p></div>

                <pre style="width:60%"><code class="bash" style="max-height: 650px; font-size: 18px; line-height:1.35;"> 
# Let's start from the folder /home
cd /home

# and we want to move to /home/deren, we can do this several ways:
cd /home/deren   # write the full path
cd ./deren       # write the relative path 
cd deren         # another way of writing relative path
cd ~             # tilde is a shortcut to /home/username
cd $HOME         # $HOME is a variable name pointing to /home/username
cd               # the default target to the cd program is /home/username
                </code></pre>     
                </div>
            </section>


            <section data-background-color="#262626" data-transition="none" class="future">
                <div class="standard">
                    <h3 class="title" style="color:#5ab4ac; margin-top:10%; line-height:1.2">
                    Common aliases</h3>
                    <div class="textbox"><p style='text-align:center; color:white'>
                        Programmers love shortcuts, especially for tedious and error-prone
                        things like typing filepaths. Several important examples are shown 
                        below. 
                    </p></div>

                <pre style="width:60%"><code class="bash" style="max-height: 650px; font-size: 18px; line-height:1.35;"> 
# Let's start from nested within directories
cd /home/deren/Documents/notebooks

# if we want to point to our current directory
ls ./            # ./ means here, this directory
ls .             # .  means here, it can figure out its a directory
ls               # default target to ls is .

# if we want to point to one directory up in hierarchy
ls ../           # ../ means up one
ls ..            # the terminal / is only necessary if something comes after it.
                </code></pre>     
                </div>
            </section>


            <section data-background-color="#262626" data-transition="none" class="future">

                <section data-background-color="#262626" data-transition="none" class="future">                
                <div class="standard">
                    <h3 class="title" style="color:#5ab4ac; margin-top:5%; line-height:1.2">
                    STDIN, STDOUT, STDERR, redirection, and pipes</h3>
                    <div class="textbox"><p style='text-align:center; color:white'>
                        As you learned from the Unix history video, shell programming is 
                        largely designed around "piping" information between many small
                        programs that each perform a single task. This "atomic" design
                        makes it easier to update and fix parts of the code without breaking
                        all of it. Most unix programs can thus receive data as a stream from 
                        STDIN and export results to STDOUT, as if the program itself is just
                        a pipe.
                    </p></div>

                <pre style="width:60%"><code class="python" style="max-height: 650px; font-size: 18px; line-height:1.35;"> 
# print some text to the terminal output (STDOUT)
echo "hello world"

# direct output to write to file (creates or overwrites)
echo "hello world" > msg.txt

# direct output to append to file (adds to end)
echo "goodbye world" >> msg.txt

# read (stream) contents from file to stdout
cat msg.txt
                </code></pre>     
                </div>
                </section>


                <section data-background-color="#262626" data-transition="none" class="future">                
                <div class="standard">
                    <h3 class="title" style="color:#5ab4ac; margin-top:5%; line-height:1.2">
                    Stdout, redirection, and pipes</h3>
                    <div class="textbox"><p style='text-align:center; color:white'>
                        The 'grep' command is one of the most useful. It is used to filter
                        text line by line, and is often used in conjunction with cat to stream
                        text from a file and pipe it to grep to operate on.
                    </p></div>

                <pre style="width:60%"><code class="bash" style="max-height: 650px; font-size: 18px; line-height:1.35;"> 
# There are hundreds of system-wide programs located in /bin (near global root)

# ls: lists all the files
# wc: word count, counts simple stats on text. (-l option means count lines)
# combine them to count the number of files (programs) in /bin
ls /bin | wc -l              # for me, this return 2230

# now we can select only programs that have 'z' in their names
ls /bin | grep 'z' | wc -l   # for me, this returns 94
                </code></pre>     
                </div>
                </section>


            </section>




            <section data-background-color="#262626" data-transition="none" class="future">                
            <div class="standard">
                <h3 class="title" style="color:#5ab4ac; margin-top:8%; line-height:1.2">
                There are so many small programs, how do I learn them?</h3>
                <div class="textbox"><p style='text-align:center; color:white'>
                    You can start with tutorials like the one assigned for today. But
                    in general, you learn them through practice. You come upon situations
                    where you might ask, 'can I count how many times the name Bob occurs
                    in this document?', and then you google the question, but with 'bash' or
                    'unix' added to your question, and find an answer. Google is very
                    helpful in this regard!
                    <br><br>
                This week for the assessment you can choose either the beginner or 
                advanced challenge assignment to complete to test your bash skills.
                </p></div>
            </div>
            </section>



            <section data-background-color="#262626" data-transition="none" class="future">                
            <div class="standard">
                <h3 class="title" style="color:#5ab4ac; margin-top:8%; line-height:1.2">
                Submitting Assignments</h3>
                <div class="textbox"><p style='text-align:center; color:white'>
                    You will find several tutorials linked from the 
                    <a href="https://eaton-lab.org/hack-the-planet" style="color:#5ab4ac;">
                    course website</a>
                    for this week's assignment. The first includes a set of instructions
                    for setting up a GitHub account if you do not have one (it is free and
                    requires only an email address). Follow the instructions
                    to submit your assignments this week. 
                    <br><br>
                    Following the ethos of this class, we will not be using "Github Classrooms"
                    or other tools that kind of dumb-down Github. Our goal is for you to learn
                    to use like an expert.
                </p></div>
            </div>
            </section>









        <!-- SLIDES CLASS ENDING -->
        </div>

    <!-- REVEAL LINEAR CENTER CLASS ENDING -->
    </div>


    <!-- JAVASCRIPT -->
    <script src="../reveal/lib/js/head.min.js" type="text/javascript"></script>        
    <script src="../reveal/js/reveal.js" type="text/javascript"></script>
    <script src="../reveal/plugin/highlight/highlight.js" type="text/javascript"></script>
    <script>
        Reveal.initialize({
            controls:true, 
            progress:false, 
            loop:false, 
            history:true,
            center:false,
            fragmentInURL:true,
            margin:.05,
            minScale:0.1,
            maxScale:5,
            width:1600,
            height:900,
            theme:Reveal.getQueryHash().theme,
            transition:Reveal.getQueryHash().transition||"linear",
            slideNumber: false,
            // slideNumber: "h/v",
            dependencies: [
            { src: '../reveal/lib/js/classList.js', condition: function() { return !document.body.classList; } },
            { src: '../reveal/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
            ]
        });
    </script>
</body>
</html>