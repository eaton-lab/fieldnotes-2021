

<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
    
<!-- how to read page -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

<!-- icons -->
<link rel="icon" href="/assets/images/favicon.ico">

<!-- get title from page meta -->
<title>git collab &#8211; Fieldnotes-2021</title>


<!-- store meta info on page -->





<!-- Store full web url -->

<link rel="canonical" href="
	
	
		/tutorials/15.0-git-collab.html
	
">


<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="/assets/css/custom.css">
<link rel="stylesheet" href="/assets/css/syntax.css">
</head>


<body id="default">

    <header>
	    

<!-- NAVBAR (DARK) -->
<nav class="navbar navbar-expand-sm navbar-dark bg-dark">

    <a class="navbar-brand" href="">Fieldnotes-2021</a>

    <!-- The toggle switch for collapsed navbar-->
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Make collapsable -->
    <div class="collapse navbar-collapse" id="navbarCollapse">

        <!-- The elements of the navbar -->
        <ul class="navbar-nav">
            

                <li class="nav-item dropdown mr-3">

                    <!-- if item has subitems -->
                    
                        <a class="nav-link" href=/>Home</a>
                    
                </li>
            

                <li class="nav-item dropdown mr-3">

                    <!-- if item has subitems -->
                    

                        <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Itinerary</a>
                        
                        <div class="dropdown-menu">
                        
                            
                                <a class="dropdown-item" href="/pages/expedition-2.html">Day 2 (Shimian to Xinduqiao)</a>
                            
                        
                            
                                <a class="dropdown-item" href="/pages/expedition-3.html">Day 3 (Xinduqiao to Litang)</a>
                            
                        
                            
                                <a class="dropdown-item" href="/pages/expedition-4.html">Day 4 (Litang to Litang)</a>
                            
                        
                            
                                <a class="dropdown-item" href="/pages/expedition-5.html">Day 5 (Litang to Bamei)</a>
                            
                        
                            
                                <a class="dropdown-item" href="">Day 6 (Dawu to Luhuo)</a>
                            
                        
                            
                                <a class="dropdown-item" href="">Day 7 (Luhuo to Wengdaxiang)</a>
                            
                        
                            
                                <a class="dropdown-item" href="">Day 8 (Wengdaxiang to Zamtang)</a>
                            
                        
                        </div>

                    <!-- open link in new window -->
                    
                </li>
            

                <li class="nav-item dropdown mr-3">

                    <!-- if item has subitems -->
                    
                        <a class="nav-link" href=/pages/assignments.html>Methods</a>
                    
                </li>
            
            <!-- LINK TO HOME -->
            <li class="nav-item mr-3">

        </ul>
    </div>
</nav>
  
	    


<!-- Splash header about the news -->
<div class="jumbotron" style="background-image: url(/assets/images/hackers-1.jpg);">
    <!-- <div class="mb-3 mt-0"><img src="/assets/images/E3B-logo.png"></div> -->
    <!-- <h1 class="display-5 font-italic">git collab</h1> -->
    <!-- <p class="lead mt-3 mb-0"><i></i></p> -->
</div>
    </header>

    <main role="main" class="container-md">
    	<div class="col-sm-10 mx-auto">
		    <style>
h2 {
    margin-top: 30px;
}
h3 {
    margin-top: 30px;
}
pre {
    line-height: 1.25em;
}
pre code {
    font-size: 0.9em;
}
</style>

<h2 id="collaborative-coding-with-git">Collaborative coding with git</h2>

<p><strong>Table of Contents:</strong></p>
<ul id="markdown-toc">
  <li><a href="#collaborative-coding-with-git" id="markdown-toc-collaborative-coding-with-git">Collaborative coding with git</a>    <ul>
      <li><a href="#why-collaborate-code" id="markdown-toc-why-collaborate-code">Why collaborate code?</a></li>
    </ul>
  </li>
  <li><a href="#example-workflow" id="markdown-toc-example-workflow">Example workflow</a>    <ul>
      <li><a href="#user-a-has-a-repo-hosted-on-github" id="markdown-toc-user-a-has-a-repo-hosted-on-github">User A has a repo hosted on GitHub</a></li>
      <li><a href="#user-b-forks-the-repo-commits-changes-and-pushes-to-their-fork" id="markdown-toc-user-b-forks-the-repo-commits-changes-and-pushes-to-their-fork">User B forks the repo, commits changes, and pushes to their fork</a></li>
      <li><a href="#user-b-opens-a-pull-request" id="markdown-toc-user-b-opens-a-pull-request">User B opens a pull request</a></li>
      <li><a href="#user-a-looks-at-the-pull-request-on-github" id="markdown-toc-user-a-looks-at-the-pull-request-on-github">User A looks at the pull request on GitHub</a></li>
      <li><a href="#if-the-changes-are-simple" id="markdown-toc-if-the-changes-are-simple">If the changes are simple</a></li>
      <li><a href="#if-the-changes-are-complex-or-conflicting" id="markdown-toc-if-the-changes-are-complex-or-conflicting">If the changes are complex or conflicting</a></li>
      <li><a href="#syncing-local-and-remote" id="markdown-toc-syncing-local-and-remote">Syncing local and remote</a></li>
      <li><a href="#in-case-of-conflicts" id="markdown-toc-in-case-of-conflicts">In case of conflicts</a></li>
    </ul>
  </li>
</ul>

<h3 id="why-collaborate-code">Why collaborate code?</h3>

<p>Collaborative coding is an efficient way to write better and faster code. 
By bouncing ideas off of others you can often find better ways to design and
implement code to achieve your goals. Everyone’s style is different, and most
coding problems can be solved in numerous possible ways. By working with 
others you will be exposed to new problems and routines that you may wish
to include in your own code in the future.</p>

<p>Collaborative coding is easier today than it has ever been before, thanks to
public code repositories like GitHub, which leverage <code class="language-plaintext highlighter-rouge">git</code> to sync code 
between local and cloud-based repositories, and to resolve conflicts that
can arise when multiple users are editing code at the same time. So far 
we have learned to use these tools as an individual user, where conflicts
are very uncommon. Now we will begin to implement collaborative coding where
you will likely encounter conflicts, so we will need to learn how to resolve
them.</p>

<h2 id="example-workflow">Example workflow</h2>

<ul>
  <li>User A has a repo hosted on GitHub.</li>
  <li>User B <em>forks</em> the repo, commits changes, and pushes to their fork.</li>
  <li>User B opens a <em>pull request</em> from GitHub telling User A about the new changes.</li>
  <li>User A looks at the pull request on GitHub to understand the changes.
    <ul>
      <li>If the changes are very simple:
        <ul>
          <li>User A accepts the request to merge commits into their code, closing the request.</li>
        </ul>
      </li>
      <li>If the changes are complex, or include a conflict:
        <ul>
          <li>User A can resolve the conflict in GitHub’s editor.</li>
          <li>Or, User A can <em>check out</em> User B’s pull request as a new branch.
            <ul>
              <li>User A resolves conflicts in their editor, or makes changes to the new code.</li>
              <li>User A then merges this branch into main and push commits to origin.</li>
              <li>User A goes back to the pull request on GitHub, which is now identical to main, and closes it.</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="user-a-has-a-repo-hosted-on-github">User A has a repo hosted on GitHub</h3>
<p>User A created a new repo at <code class="language-plaintext highlighter-rouge">https://github.com/UserA/collab-test</code> as a
simple Python package.</p>

<h3 id="user-b-forks-the-repo-commits-changes-and-pushes-to-their-fork">User B forks the repo, commits changes, and pushes to their fork</h3>
<p>User A is collaborating with User B, who is a better coder, and is going to 
check in on User A’s project occasionally to make edits to improve it.</p>

<p>User B creates a <em>fork</em> of User A’s repo and clones it to their computer.
User B can then make their changes to the main branch or to a new named branch,
it doesn’t really matter. For clarity, we’ll use a new branch here called 
<code class="language-plaintext highlighter-rouge">Bedits</code>.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># user B clone's their forked repo and cd into it</span>
git clone https://github.com/UserB/collab-test
<span class="nb">cd </span>collab-test/

<span class="c"># creates a new branch for their edits</span>
git checkout <span class="nt">-b</span> Bedits

<span class="c"># makes changes to the code</span>
<span class="c"># subl .</span>
</code></pre></div></div>

<p>In this case User B saw that User A had written the function below to check
whether the number 50 is within a range between two numbers:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">is_50_in_list</span><span class="p">(</span><span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">):</span>
    <span class="s">"""
    Loops over all values checking if it is 50
    """</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">50</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">True</span>
    <span class="k">return</span> <span class="bp">False</span>
</code></pre></div></div>
<p>and they realized that this could be written much more efficiently as the 
following, and so they made a change to the code:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">is_50_in_list</span><span class="p">(</span><span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">):</span>
    <span class="s">"""
    Finds if the value 50 is within a range of numbers.
    """</span>
    <span class="k">return</span> <span class="mi">50</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span>
</code></pre></div></div>

<p>User B then stages and commits this change and pushes to their fork (origin).
They could push to main or to a separate branch name, here we will push to the
branch name Bedits.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># stages, commits and pushes new branch to forked repo</span>
git add <span class="nb">.</span>
git commit <span class="nt">-m</span> <span class="s2">"fixed slow for-loop"</span>
git push origin Bedits
</code></pre></div></div>

<h3 id="user-b-opens-a-pull-request">User B opens a pull request</h3>
<p>User B now makes a pull request to User A on GitHub to make them 
aware that there are new changes to the code. To do this they go to their
own forked repo and click on the Pull request button. Here you can see that
GitHub is alerting User B that their branch is ahead of User A</p>

<p><img src="./images/git-collab-1.png" style="width:100%; border: solid black" /></p>

<p>In the pull request User B can enter additional comments to describe the 
commits on this new branch. Then they click the green 
“Create pull request” button to officially send it.</p>

<p><img src="./images/git-collab-2.png" style="width:100%; border: solid black" /></p>

<h3 id="user-a-looks-at-the-pull-request-on-github">User A looks at the pull request on GitHub</h3>
<p>User A will receive an email alerting them to the pull request, 
and it will appear in the pull request tab on their repo page, like below:</p>

<p><img src="./images/git-collab-alert.png" style="width:100%; border: solid black" /></p>

<p>User A can now investigate these <em>proposed</em> changes. They need to figure out
if it is a very simple change or a complex one. This will affect their decision
of how to deal with the pull request.</p>

<p>User A knows that User B is a much better coder, and so they are likely to 
accept the changes, but still, User A wants to be sure that the new code makes 
sense before accepting (merging) the commits into their project. After all, 
this is User A’s project, and they have the final say about how the code 
should be written.</p>

<p>The first thing User A can do is to click on the Pull Request tab 
which will show whether or not the changes conflict with any other changes 
that User A has made to their code. They can then click on the tab labeled 
“Files changed” to see a <em>diff</em> of the changes made by User B. This shows 
line-by-line which lines were removed or added by User B. Example below:</p>

<p><img src="./images/git-collab-diff.png" style="width:100%; border: solid black" /></p>

<h3 id="if-the-changes-are-simple">If the changes are simple</h3>
<p>If the changes to the code are simple, as in the example here, the User 
can go back to the first tab (conversation) of the Pull Request and select 
“Merge pull request” to accept the changes. These commits will be merged
into <code class="language-plaintext highlighter-rouge">origin/main</code>.</p>

<h3 id="if-the-changes-are-complex-or-conflicting">If the changes are complex or conflicting</h3>
<p>Although User A trusts User B, the changes they proposed may seem wonky, and
so User A wants to test run the code before merging into their main branch.
They can do this by <em>checking out</em> the commits that User B proposed onto 
a new branch. This can be done following the convention below:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># template for checking out a pull request</span>
git fetch origin pull/ID/head:BRANCHNAME
</code></pre></div></div>

<p>where ID is replaced by the number that is listed next to the title of the 
pull request on GitHub. In this case it was 1, since this was the first pull
request. In addition, BRANCHNAME should be replaced by the name that UserA
<em>wants</em> to call this branch. I will call it UserB to indicate that it came 
from them.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># checking out pull request #1 as branch UserB</span>
git fetch origin pull/1/head:UserB
</code></pre></div></div>
<pre style="background-color: lightgrey; padding:10px"><code>
remote: Enumerating objects: 7, done.
remote: Counting objects: 100% (7/7), done.
remote: Compressing objects: 100% (2/2), done.
remote: Total 4 (delta 2), reused 4 (delta 2), pack-reused 0
Unpacking objects: 100% (4/4), 414 bytes | 207.00 KiB/s, done.
From https://github.com/hackers-test/collab-test
 * [new ref]         refs/pull/1/head -&gt; UserB
(base) deren@tuba:~/hacks/collab-test (main)$ 
</code></pre>

<p>User A can now check out this branch to test the new code.</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># checkout the new branch</span>
git checkout <span class="nt">-b</span> UserB

<span class="c"># the new commits are now enacted in your code, view and test the</span>
<span class="c"># code in your favorite text editor.</span>
subl <span class="nb">.</span>
</code></pre></div></div>

<p>Once User A has tested the code and is satisfied that the changes UserB made 
are fine, they can merge these changes into their main branch.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># switch back to the main branch</span>
git checkout main

<span class="c"># merge changes from UserB branch into main</span>
git merge UserB

<span class="c"># remove the UserB branch that is no longer needed</span>
git branch <span class="nt">-d</span> UserB

<span class="c"># push to origin main</span>
git push origin main
</code></pre></div></div>

<h3 id="syncing-local-and-remote">Syncing local and remote</h3>
<p>If you accept a pull request directly on GitHub (the remote), and then later
try to push some new changes to the same repo from your command line (local),
git will tell you that your local branch is behind the remote branch, and 
that you need to perform a <code class="language-plaintext highlighter-rouge">git pull</code>. Go ahead and do this to update your
current branch, then rety your <code class="language-plaintext highlighter-rouge">git push</code> command.</p>

<h3 id="in-case-of-conflicts">In case of conflicts</h3>
<p>Let’s consider an example of a conflict. Imagine that User A accepted User B’s
changes directly on GitHub, but they also made a similar change to the code 
on their own branch locally. If they try to do a <code class="language-plaintext highlighter-rouge">git pull</code> they will encounter
a conflict, where the local file includes changes to the same lines that changed
in the file on the remote. There are several ways to resolve this, depending
on who’s version of the result you want to keep. This is the topic of the 
next tutorial.</p>


		</div>
	</main>

	<footer>
	    



<div class="container text-center mt-5">
	<p>Copyright &copy; 
	 <script>document.write( new Date().getFullYear() );</script> 
	 Deren Eaton
	 </p>
</div>


	    




<!-- JS: jQuery, Popper.js, and Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>

<script type="text/javascript">
	var BASE_URL = '';
</script>


	</footer>

</body>
</html>
